{% extends "base.html" %}

{% block content_heading %}
{% load static %}
<script src="{% static 'js/brew_session.js' %}"></script>
<h2>Session Execution</h2>
{% csrf_token %}
{% endblock %}

{% block content %}
<a href="/brew_session/brew_sessions/{{ object.id }}/">
    <small>[back]</small>
</a>
<a onclick="get_update_session({{ object.id }})">
    <small>[update]</small>
</a>
<a onclick="get_delete_session({{ object.id }})">
    <small>[delete]</small>
</a>
<br/>
<b>{{ object.name }}
    <small>
        {% if object.locked %}
        [locked]
        {% else %}
        [active]
        {% endif %}
    </small>
</b>
<table>
    <tr>
        <td><b>Date:</b></td>
        <td>{{ object.session_date }}</td>
    </tr>
    <tr>
        <td><b>Source:</b></td>
        <td>{{ object.source }}</td>
    </tr>
    <tr>
        <td><b>Notes:</b></td>
        <td>{{ object.notes }}</td>
    </tr>
</table>
<br/>
<h3>Details</h3>
{% if not object.locked %}
<a href="/brew_session/create_detail/{{ object.id }}">
    <small>[create]</small>
</a>
{% endif %}
<ul>
    {% for detail in details %}
    <li>{{ detail }} <a onclick="start_session_detail({{ detail.id }})"><small>[start]</small></a>
        {% empty %}
    <li>No details available.</li>
    {% endfor %}
</ul>

{% endblock %}